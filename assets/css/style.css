:root { --fg:#111; --bg:#fff; --muted:#666; --brand:#0b65c2; }
* { box-sizing: border-box; }
body { margin:0; font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color:var(--fg); background:var(--bg); }
.container { max-width: 980px; margin: 0 auto; padding: 24px; }
h1,h2,h3 { line-height:1.25; margin: 0.8em 0 0.4em; }
h1 { font-size: 2rem; }
h2 { font-size: 1.5rem; border-bottom: 1px solid #eee; padding-bottom: 6px; }
p { margin: 0.5em 0 1em; }
a { color: var(--brand); text-decoration: none; }
a:hover { text-decoration: underline; }

.hero { background: linear-gradient(180deg,#f7fafc,#fff); border-bottom: 1px solid #eee; }
.hero .authors { color: var(--muted); }
.links { margin: 12px 0 16px; }
.btn { display:inline-block; padding:8px 12px; margin-right:8px; border:1px solid #ddd; border-radius:10px; background:#fff; }
.btn:hover { background:#f3f5f8; text-decoration:none; }

/* ▼ 画像の縦横比を保ちつつ横幅にフィット（“引き延ばし”防止） */
.teaser {
  display: block;
  max-width: 100%;
  height: auto;
  border-radius:12px;
  border:1px solid #eee;
  background:#fff;
}
img {
  display: block;
  max-width: 100%;
  height: auto;        /* これで縦横比を保持 */
  border-radius:12px;
  border:1px solid #eee;
  background:#fff;
}

.caption { color:var(--muted); font-size: 0.95rem; margin-top: 6px; }

ul { padding-left: 20px; }
pre.bibtex { background:#0b1220; color:#ddd; padding:16px; border-radius:12px; overflow:auto; font-size: 0.9rem; }
.footer { border-top:1px solid #eee; color:var(--muted); }

.video-container {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 ratio */
  padding-top: 25px;
  height: 0;
}
.video-container iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 12px;
  border: 1px solid #eee;
}
/* Typographic scale & section rhythm */
section { margin: 56px 0 48px; }
h1 { font-size: 2.25rem; letter-spacing: .1px; }
h2 { font-size: 1.65rem; border-bottom: 1px solid #eee; padding-bottom: 8px; margin-top: 1.6em; }

/* Figure pattern: image + short caption */
figure { margin: 0 0 18px; }
figure > img { display: block; max-width: 100%; height: auto; border-radius: 12px; border: 1px solid #eee; background: #fff; }
figure > figcaption { color: var(--muted); font-size: 0.95rem; margin-top: 6px; }

/* Media grid for side-by-side figures (like first/second floor) */
.media-grid { display: grid; gap: 16px; }
@media (min-width: 900px) {
  .media-grid.two { grid-template-columns: 1fr 1fr; align-items: start; }
}

/* Buttons: cleaner & consistent */
.btn { transition: transform .05s ease, box-shadow .2s ease; box-shadow: 0 1px 0 rgba(0,0,0,.04); }
.btn:hover { background:#f3f5f8; transform: translateY(-1px); }

/* Small badge (for "under review"等) */
.badge { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; line-height:18px;
         background:#eef4ff; color:#0b65c2; margin-left:8px; vertical-align:middle; }

/* Topnav: active section highlight (used with JS below) */
.topnav a { position: relative; }
.topnav a.active { color: var(--brand); }
.topnav a.active::after {
  content: ""; position: absolute; left: 0; right: 0; bottom: -10px; height: 2px; background: var(--brand);
}

/* Images (global safety) */
img, .teaser { display:block; max-width:100%; height:auto; }

/* Optional: soften container for wider screens slightly */
@media (min-width: 1200px) {
  .container { max-width: 1040px; }
}

/* Dark mode tweaks consistent with additions */
@media (prefers-color-scheme: dark) {
  figure > img { border-color:#203040; background:#0a0f14; }
  .badge { background:#18314a; color:#b9d7ff; }
}
.smart-authors{
  display:flex; flex-wrap:wrap; gap:.4rem .6rem; align-items:center;
  color:#2b2b2b; font-size:1.05rem;
}
.smart-authors a{ color:inherit; text-decoration:none; border-bottom:1px dashed rgba(0,0,0,.2) }
.smart-authors a:hover{ border-bottom-color:rgba(0,0,0,.5) }
.smart-authors .sep{ opacity:.45; user-select:none }
.smart-authors .nolink{ border-bottom:1px dotted transparent } /* 見た目の高さ合わせ */
.corresponding{ margin-left:.15em; font-weight:700 }
.btn.tiny{ padding:.35em .6em; font-size:.9rem }
.affiliations.compact{ margin-top:.4rem; padding-left:1.2rem }
.hidden{ display:none }


pre.prompt {
  max-height: 420px; 
  overflow: auto;
  background: #fafafa;
  border: 1px solid #eee;
  border-radius: 12px;
  padding: 12px;
  font-size: .9rem;
}
@media (prefers-color-scheme: dark){
  pre.prompt { background:#0a0f14; border-color:#203040; }
}
